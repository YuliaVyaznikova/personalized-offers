Размер исходных данных: (1051557, 505)
Колонки: ['feature_239', 'feature_1075', 'feature_988', 'feature_993', 'feature_1053', 'feature_262', 'feature_1063', 'feature_1303', 'feature_189', 'feature_255', 'feature_231', 'feature_1068', 'feature_242', 'feature_238', 'feature_273', 'feature_251', 'feature_276', 'feature_1066', 'feature_223', 'feature_1064', 'feature_322', 'feature_221', 'feature_331', 'feature_811', 'feature_1069', 'feature_1058', 'feature_1004', 'feature_998', 'feature_252', 'feature_1010', 'feature_979', 'feature_215', 'feature_225', 'feature_220', 'feature_259', 'feature_313', 'feature_1061', 'feature_1056', 'feature_1029', 'feature_1032', 'feature_264', 'feature_992', 'feature_1055', 'feature_1040', 'feature_1071', 'feature_217', 'feature_275', 'feature_205', 'feature_224', 'feature_222', 'feature_1008', 'feature_234', 'feature_204', 'feature_229', 'feature_1074', 'feature_1065', 'feature_292', 'feature_1030', 'feature_964', 'feature_976', 'feature_216', 'feature_1067', 'feature_210', 'feature_196', 'feature_209', 'feature_182', 'feature_1051', 'feature_955', 'feature_989', 'feature_200', 'feature_181', 'feature_1035', 'feature_950', 'feature_1012', 'feature_954', 'feature_199', 'feature_1021', 'feature_977', 'feature_967', 'feature_208', 'feature_1091', 'feature_1007', 'feature_236', 'feature_232', 'feature_214', 'feature_202', 'feature_194', 'feature_1022', 'feature_1025', 'feature_243', 'feature_160', 'feature_971', 'feature_994', 'feature_193', 'feature_191', 'feature_999', 'feature_987', 'feature_198', 'feature_188', 'feature_260', 'feature_1011', 'feature_958', 'feature_185', 'feature_946', 'feature_969', 'feature_190', 'feature_177', 'feature_997', 'feature_978', 'feature_952', 'feature_158', 'feature_155', 'feature_186', 'feature_211', 'feature_945', 'feature_924', 'feature_219', 'feature_1016', 'feature_168', 'feature_171', 'feature_163', 'feature_959', 'feature_984', 'feature_934', 'feature_201', 'feature_218', 'feature_290', 'feature_1038', 'feature_1060', 'feature_1052', 'feature_207', 'feature_923', 'feature_172', 'feature_178', 'feature_167', 'feature_235', 'feature_927', 'feature_187', 'feature_981', 'feature_986', 'feature_942', 'feature_1027', 'feature_136', 'feature_156', 'feature_925', 'feature_175', 'feature_192', 'feature_1042', 'feature_944', 'feature_152', 'feature_206', 'feature_1024', 'feature_165', 'feature_1041', 'feature_957', 'feature_173', 'feature_164', 'feature_337', 'feature_179', 'feature_953', 'feature_990', 'feature_159', 'feature_991', 'feature_901', 'feature_288', 'feature_1006', 'feature_973', 'feature_921', 'feature_910', 'feature_928', 'feature_975', 'feature_1036', 'feature_227', 'feature_962', 'feature_128', 'feature_140', 'feature_965', 'feature_154', 'feature_572', 'feature_951', 'feature_138', 'feature_948', 'feature_886', 'feature_922', 'feature_149', 'feature_861', 'feature_972', 'feature_930', 'feature_230', 'feature_933', 'feature_240', 'feature_162', 'feature_197', 'feature_907', 'feature_150', 'feature_130', 'feature_151', 'feature_896', 'feature_183', 'feature_174', 'feature_125', 'feature_135', 'feature_146', 'feature_119', 'feature_1003', 'feature_113', 'feature_1026', 'feature_961', 'feature_876', 'feature_180', 'feature_916', 'feature_963', 'feature_133', 'feature_968', 'feature_157', 'feature_1255', 'feature_131', 'feature_1034', 'feature_123', 'feature_956', 'feature_865', 'feature_947', 'feature_176', 'feature_940', 'feature_939', 'feature_122', 'feature_142', 'feature_867', 'feature_913', 'feature_932', 'feature_137', 'feature_929', 'feature_917', 'feature_868', 'feature_909', 'feature_1018', 'feature_912', 'feature_869', 'feature_107', 'feature_127', 'feature_895', 'feature_143', 'feature_120', 'feature_898', 'feature_938', 'feature_104', 'feature_114', 'feature_906', 'feature_124', 'feature_914', 'feature_846', 'feature_943', 'feature_116', 'feature_100', 'feature_101', 'feature_96', 'feature_134', 'feature_902', 'feature_212', 'feature_899', 'feature_931', 'feature_893', 'feature_132', 'feature_166', 'feature_1019', 'feature_911', 'feature_894', 'feature_882', 'feature_169', 'feature_108', 'feature_859', 'feature_904', 'feature_960', 'feature_935', 'feature_915', 'feature_106', 'feature_905', 'feature_84', 'feature_141', 'feature_903', 'feature_97', 'feature_908', 'feature_121', 'feature_852', 'feature_853', 'feature_874', 'feature_93', 'feature_83', 'feature_870', 'feature_147', 'feature_873', 'feature_871', 'feature_99', 'feature_872', 'feature_891', 'feature_88', 'feature_86', 'feature_103', 'feature_848', 'feature_884', 'feature_77', 'feature_897', 'feature_90', 'feature_126', 'feature_888', 'feature_129', 'feature_813', 'feature_887', 'feature_87', 'feature_920', 'feature_860', 'feature_82', 'feature_237', 'feature_866', 'feature_877', 'feature_111', 'feature_831', 'feature_936', 'feature_858', 'feature_827', 'feature_285', 'feature_66', 'feature_367', 'feature_822', 'feature_112', 'feature_823', 'feature_80', 'feature_825', 'feature_258', 'feature_64', 'feature_91', 'feature_879', 'feature_70', 'feature_95', 'feature_58', 'feature_845', 'feature_937', 'feature_98', 'feature_863', 'feature_78', 'feature_105', 'feature_890', 'feature_856', 'feature_875', 'feature_74', 'feature_76', 'feature_56', 'feature_60', 'feature_862', 'feature_79', 'feature_880', 'feature_75', 'feature_847', 'feature_812', 'feature_855', 'feature_44', 'feature_841', 'feature_48', 'feature_69', 'feature_52', 'feature_49', 'feature_62', 'feature_72', 'feature_889', 'feature_407', 'feature_57', 'feature_854', 'feature_842', 'feature_61', 'feature_844', 'feature_63', 'feature_818', 'feature_65', 'feature_835', 'feature_68', 'feature_94', 'feature_54', 'feature_51', 'feature_832', 'feature_41', 'feature_849', 'feature_838', 'feature_857', 'feature_39', 'feature_85', 'feature_826', 'feature_829', 'feature_828', 'feature_820', 'feature_830', 'feature_878', 'feature_883', 'feature_27', 'feature_834', 'feature_46', 'feature_814', 'feature_1028', 'feature_33', 'feature_34', 'feature_36', 'feature_850', 'feature_29', 'feature_30', 'feature_837', 'feature_42', 'feature_45', 'feature_24', 'feature_25', 'feature_26', 'feature_37', 'feature_17', 'feature_892', 'feature_81', 'feature_53', 'feature_18', 'feature_20', 'feature_22', 'feature_38', 'feature_23', 'feature_32', 'feature_21', 'feature_28', 'feature_59', 'feature_833', 'feature_330', 'feature_139', 'feature_40', 'feature_851', 'feature_885', 'feature_985', 'feature_819', 'feature_840', 'feature_1100', 'feature_73', 'feature_824', 'feature_372', 'feature_918', 'feature_102', 'feature_839', 'feature_309', 'feature_983', 'feature_117', 'feature_817', 'feature_1037', 'feature_35', 'feature_1082', 'feature_245', 'feature_213', 'feature_815', 'feature_1005', 'feature_161', 'feature_110', 'feature_43', 'feature_1314', 'feature_1234', 'feature_19', 'feature_1111', 'feature_1096', 'feature_31', 'feature_1308', 'feature_1014', 'feature_580', 'feature_1031', 'feature_881', 'feature_170', 'feature_401', 'feature_926', 'feature_524', 'feature_1250', 'feature_966', 'feature_195', 'feature_228', 'feature_864', 'feature_1048', 'feature_836', 'feature_118', 'feature_293', 'feature_919', 'feature_1288', 'feature_970', 'feature_821', 'feature_1092', 'feature_369', 'feature_532', 'feature_1104', 'feature_1020', 'feature_941', 'feature_731', 'feature_778', 'feature_144', 'feature_47', 'feature_115', 'feature_92', 'feature_16', 'feature_145', 'feature_525', 'feature_1208', 'feature_1290', 'feature_148', 'feature_339', 'timestamp', 'user_id', 'product_id', 'is_sold', 'year_month']
Размер train: (121150, 500)
Размер OOT: (26736, 500)
Категориальные фичи (187): ['feature_239', 'feature_993', 'feature_262', 'feature_1303', 'feature_255', 'feature_231', 'feature_1068', 'feature_242', 'feature_273', 'feature_223', 'feature_1064', 'feature_221', 'feature_331', 'feature_811', 'feature_1004', 'feature_979', 'feature_225', 'feature_259', 'feature_1061', 'feature_1056', 'feature_1029', 'feature_264', 'feature_275', 'feature_234', 'feature_204', 'feature_1065', 'feature_292', 'feature_1030', 'feature_964', 'feature_976', 'feature_196', 'feature_955', 'feature_989', 'feature_200', 'feature_950', 'feature_199', 'feature_1007', 'feature_236', 'feature_214', 'feature_1025', 'feature_243', 'feature_999', 'feature_198', 'feature_188', 'feature_1011', 'feature_946', 'feature_969', 'feature_177', 'feature_952', 'feature_158', 'feature_186', 'feature_211', 'feature_945', 'feature_219', 'feature_959', 'feature_1060', 'feature_207', 'feature_167', 'feature_986', 'feature_136', 'feature_175', 'feature_192', 'feature_1042', 'feature_944', 'feature_152', 'feature_173', 'feature_337', 'feature_990', 'feature_910', 'feature_962', 'feature_140', 'feature_965', 'feature_138', 'feature_886', 'feature_922', 'feature_149', 'feature_861', 'feature_930', 'feature_162', 'feature_197', 'feature_151', 'feature_896', 'feature_183', 'feature_125', 'feature_135', 'feature_119', 'feature_113', 'feature_916', 'feature_133', 'feature_968', 'feature_157', 'feature_123', 'feature_956', 'feature_865', 'feature_940', 'feature_939', 'feature_867', 'feature_913', 'feature_932', 'feature_137', 'feature_929', 'feature_917', 'feature_912', 'feature_107', 'feature_898', 'feature_104', 'feature_114', 'feature_906', 'feature_914', 'feature_846', 'feature_100', 'feature_96', 'feature_902', 'feature_893', 'feature_911', 'feature_894', 'feature_859', 'feature_904', 'feature_960', 'feature_935', 'feature_106', 'feature_84', 'feature_97', 'feature_853', 'feature_874', 'feature_871', 'feature_891', 'feature_88', 'feature_77', 'feature_888', 'feature_813', 'feature_920', 'feature_860', 'feature_866', 'feature_877', 'feature_111', 'feature_831', 'feature_858', 'feature_823', 'feature_80', 'feature_95', 'feature_58', 'feature_937', 'feature_105', 'feature_890', 'feature_875', 'feature_74', 'feature_56', 'feature_60', 'feature_880', 'feature_847', 'feature_855', 'feature_841', 'feature_69', 'feature_62', 'feature_854', 'feature_65', 'feature_41', 'feature_857', 'feature_39', 'feature_826', 'feature_828', 'feature_830', 'feature_27', 'feature_834', 'feature_46', 'feature_814', 'feature_33', 'feature_36', 'feature_29', 'feature_30', 'feature_837', 'feature_25', 'feature_37', 'feature_81', 'feature_53', 'feature_20', 'feature_59', 'feature_139', 'feature_885', 'feature_985', 'feature_1082', 'feature_1111', 'feature_1096', 'feature_524', 'feature_731', 'feature_47']
Числовые фичи (313): ['feature_1075', 'feature_988', 'feature_1053', 'feature_1063', 'feature_189', 'feature_238', 'feature_251', 'feature_276', 'feature_1066', 'feature_322', 'feature_1069', 'feature_1058', 'feature_998', 'feature_252', 'feature_1010', 'feature_215', 'feature_220', 'feature_313', 'feature_1032', 'feature_992', 'feature_1055', 'feature_1040', 'feature_1071', 'feature_217', 'feature_205', 'feature_224', 'feature_222', 'feature_1008', 'feature_229', 'feature_1074', 'feature_216', 'feature_1067', 'feature_210', 'feature_209', 'feature_182', 'feature_1051', 'feature_181', 'feature_1035', 'feature_1012', 'feature_954', 'feature_1021', 'feature_977', 'feature_967', 'feature_208', 'feature_1091', 'feature_232', 'feature_202', 'feature_194', 'feature_1022', 'feature_160', 'feature_971', 'feature_994', 'feature_193', 'feature_191', 'feature_987', 'feature_260', 'feature_958', 'feature_185', 'feature_190', 'feature_997', 'feature_978', 'feature_155', 'feature_924', 'feature_1016', 'feature_168', 'feature_171', 'feature_163', 'feature_984', 'feature_934', 'feature_201', 'feature_218', 'feature_290', 'feature_1038', 'feature_1052', 'feature_923', 'feature_172', 'feature_178', 'feature_235', 'feature_927', 'feature_187', 'feature_981', 'feature_942', 'feature_1027', 'feature_156', 'feature_925', 'feature_206', 'feature_1024', 'feature_165', 'feature_1041', 'feature_957', 'feature_164', 'feature_179', 'feature_953', 'feature_159', 'feature_991', 'feature_901', 'feature_288', 'feature_1006', 'feature_973', 'feature_921', 'feature_928', 'feature_975', 'feature_1036', 'feature_227', 'feature_128', 'feature_154', 'feature_572', 'feature_951', 'feature_948', 'feature_972', 'feature_230', 'feature_933', 'feature_240', 'feature_907', 'feature_150', 'feature_130', 'feature_174', 'feature_146', 'feature_1003', 'feature_1026', 'feature_961', 'feature_876', 'feature_180', 'feature_963', 'feature_1255', 'feature_131', 'feature_1034', 'feature_947', 'feature_176', 'feature_122', 'feature_142', 'feature_868', 'feature_909', 'feature_1018', 'feature_869', 'feature_127', 'feature_895', 'feature_143', 'feature_120', 'feature_938', 'feature_124', 'feature_943', 'feature_116', 'feature_101', 'feature_134', 'feature_212', 'feature_899', 'feature_931', 'feature_132', 'feature_166', 'feature_1019', 'feature_882', 'feature_169', 'feature_108', 'feature_915', 'feature_905', 'feature_141', 'feature_903', 'feature_908', 'feature_121', 'feature_852', 'feature_93', 'feature_83', 'feature_870', 'feature_147', 'feature_873', 'feature_99', 'feature_872', 'feature_86', 'feature_103', 'feature_848', 'feature_884', 'feature_897', 'feature_90', 'feature_126', 'feature_129', 'feature_887', 'feature_87', 'feature_82', 'feature_237', 'feature_936', 'feature_827', 'feature_285', 'feature_66', 'feature_367', 'feature_822', 'feature_112', 'feature_825', 'feature_258', 'feature_64', 'feature_91', 'feature_879', 'feature_70', 'feature_845', 'feature_98', 'feature_863', 'feature_78', 'feature_856', 'feature_76', 'feature_862', 'feature_79', 'feature_75', 'feature_812', 'feature_44', 'feature_48', 'feature_52', 'feature_49', 'feature_72', 'feature_889', 'feature_407', 'feature_57', 'feature_842', 'feature_61', 'feature_844', 'feature_63', 'feature_818', 'feature_835', 'feature_68', 'feature_94', 'feature_54', 'feature_51', 'feature_832', 'feature_849', 'feature_838', 'feature_85', 'feature_829', 'feature_820', 'feature_878', 'feature_883', 'feature_1028', 'feature_34', 'feature_850', 'feature_42', 'feature_45', 'feature_24', 'feature_26', 'feature_17', 'feature_892', 'feature_18', 'feature_22', 'feature_38', 'feature_23', 'feature_32', 'feature_21', 'feature_28', 'feature_833', 'feature_330', 'feature_40', 'feature_851', 'feature_819', 'feature_840', 'feature_1100', 'feature_73', 'feature_824', 'feature_372', 'feature_918', 'feature_102', 'feature_839', 'feature_309', 'feature_983', 'feature_117', 'feature_817', 'feature_1037', 'feature_35', 'feature_245', 'feature_213', 'feature_815', 'feature_1005', 'feature_161', 'feature_110', 'feature_43', 'feature_1314', 'feature_1234', 'feature_19', 'feature_31', 'feature_1308', 'feature_1014', 'feature_580', 'feature_1031', 'feature_881', 'feature_170', 'feature_401', 'feature_926', 'feature_1250', 'feature_966', 'feature_195', 'feature_228', 'feature_864', 'feature_1048', 'feature_836', 'feature_118', 'feature_293', 'feature_919', 'feature_1288', 'feature_970', 'feature_821', 'feature_1092', 'feature_369', 'feature_532', 'feature_1104', 'feature_1020', 'feature_941', 'feature_778', 'feature_144', 'feature_115', 'feature_92', 'feature_16', 'feature_145', 'feature_525', 'feature_1208', 'feature_1290', 'feature_148', 'feature_339']
Кодирование завершено. Smoothing: 0.3
Лучший ROC-AUC: 0.8685
Лучшие параметры:
  n_estimators: 350
  learning_rate: 0.01681624193063607
  num_leaves: 110
  max_depth: 12
  min_child_samples: 50
  subsample: 0.8
  colsample_bytree: 0.7
  reg_alpha: 0.0011702189461960397
  reg_lambda: 6.173517313688325e-05
Кодирование для финальной модели завершено
Модель обучена. Количество деревьев: 350
{
  "roc_auc": 0.8639078533946406,
  "pr_auc": 0.15788595564126665,
  "precision@k": {
    "1": 0.0,
    "3": 0.22194513715710723,
    "5": 0.20134730538922155,
    "10": 0.1447811447811448
  },
  "recall@k": {
    "1": 0.0,
    "3": 0.2772585669781931,
    "5": 0.4190031152647975,
    "10": 0.602803738317757,
    "20": 0.7725856697819314
  }
}

Дополнительная информация:
Размер OOT выборки: 26736
Количество положительных классов в OOT: 642
